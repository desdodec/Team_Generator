<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>Team Generator</h1>

    <form method="POST" action="/" enctype="multipart/form-data">
        {% if total_names %}
            <p><strong>{{ total_names }} names loaded from the previously uploaded file.</strong></p>
            <p>You can upload a new file to replace the existing one or directly generate teams.</p>
        {% else %}
            <p>Upload an Excel file to begin:</p>
            <input type="file" id="file" name="file" accept=".xlsx" required>
        {% endif %}

        <label for="num_teams">Number of Teams (optional):</label>
        <input type="number" id="num_teams" name="num_teams" min="1" placeholder="Enter number of teams">

        <label for="max_team_size">Maximum Team Size (optional):</label>
        <input type="number" id="max_team_size" name="max_team_size" min="1" placeholder="Enter maximum team size">

        <label for="incompatible_pairs">Incompatible Pairs (e.g., Emma,Liam; Olivia,Noah):</label>
        <textarea id="incompatible_pairs" name="incompatible_pairs" rows="3" placeholder="Enter pairs separated by semicolons"></textarea>

        <div>
            <button type="submit" name="action" value="upload" class="upload-button">Upload File</button>
            {% if total_names %}
                <button type="submit" name="action" value="generate" class="generate-button">Generate Teams</button>
            {% endif %}
        </div>

        {% if error_message %}
        <p class="error">{{ error_message }}</p>
        {% endif %}
    </form>
</body>
</html>
